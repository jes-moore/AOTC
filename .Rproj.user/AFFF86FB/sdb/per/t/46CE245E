{
    "collab_server" : "",
    "contents" : "library(xts)\nlibrary(dygraphs)\nimportsGraph <- function(){\n        \n        #oilImports <- read.csv('bla') #Need to store this in a datawarehouse\n        oilImports[,2] <- as.integer(oilImports[,2])\n        oilImports[,3] <- as.integer(oilImports[,3])\n        oilImports <- xts(oilImports[,-1],order.by=oilImports[,1])\n        \n        dyCrosshair <- function(dygraph, direction = c(\"both\", \"horizontal\", \"vertical\")) {\n                dyPlugin(\n                        dygraph = dygraph,\n                        name = \"Crosshair\",\n                        path = system.file(\"plugins/crosshair.js\", package = \"dygraphs\"),\n                        options = list(direction = match.arg(direction))\n                )\n        }\n        \n        importsGraph <- dygraph(oilImports,group = 'oil',\n                       main = \"\", ylab = \"000's Of Barrels\") %>%\n                dySeries(\"Weekly_US_Net_Imports_000s\",strokeWidth = 2, label = \"Net Imports\",color = \"#57B8FF\") %>%\n                dySeries(\"Weekly_US_Total_Imports_000s\",strokeWidth = 2, label = \"Total Imports\",color = \"#FE5D26\") %>%\n                dyRangeSelector(height = 30,dateWindow = c(range(index(oilImports))[2] - 180,range(index(oilImports))[2])) %>%\n                dyAxis(\"x\",drawGrid = FALSE) %>%\n                #dyAxis(\"y2\", label = \"Crude Price\", independentTicks = FALSE) %>%\n                dyAxis(\"y\",drawGrid = FALSE,\n                       valueFormatter = 'function(d){return d.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \",\");}',\n                       axisLabelFormatter = 'function(d){return d.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \",\");}') %>%\n                dyCrosshair(direction = \"vertical\") %>%\n                dyCSS(\"css/COTC.css\") %>%\n                dyLegend(show = \"always\",width = 600) %>%\n                dyEvent(\"2016-11-10\", \"Trump Elected\", labelLoc = \"bottom\") %>%\n                dyEvent(\"2017-01-20\", \"Trump Inauguration\", labelLoc = \"bottom\") %>%\n                dyShading(from = range(index(oilImports))[1], to = range(index(oilImports))[2], color = \"rgba(190,167,123,0.1)\")\n        return(importsGraph)\n}\n\nsupplyGraph <- function(){\n        \n        oilSupply <- read.csv('bla')\n        oilSupply[,2] <- as.integer(oilSupply[,2])\n        oilSupply <- xts(oilSupply[,-1],order.by=oilSupply[,1])\n        \n        dyCrosshair <- function(dygraph, direction = c(\"both\", \"horizontal\", \"vertical\")) {\n                dyPlugin(\n                        dygraph = dygraph,\n                        name = \"Crosshair\",\n                        path = system.file(\"plugins/crosshair.js\", package = \"dygraphs\"),\n                        options = list(direction = match.arg(direction))\n                )\n        }\n        \n        supplyGraph <- dygraph(oilSupply,group = 'oil',\n                               main = \"\", ylab = \"000's Of Barrels\") %>%\n                dySeries(\"V1\",strokeWidth = 2, label = \"Net Imports\",color = \"#57B8FF\") %>%\n                dyRangeSelector(height = 30,dateWindow = c(range(index(oilSupply))[2] - 180,range(index(oilSupply))[2])) %>%\n                dyAxis(\"x\",drawGrid = FALSE) %>%\n                #dyAxis(\"y2\", label = \"Crude Price\", independentTicks = FALSE) %>%\n                dyAxis(\"y\",drawGrid = FALSE,\n                       valueFormatter = 'function(d){return d.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \",\");}',\n                       axisLabelFormatter = 'function(d){return d.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \",\");}') %>%\n                dyCrosshair(direction = \"vertical\") %>%\n                dyCSS(\"css/COTC.css\") %>%\n                dyLegend(show = \"always\",width = 600) %>%\n                dyEvent(\"2016-11-10\", \"Trump Elected\", labelLoc = \"bottom\") %>%\n                dyEvent(\"2017-01-20\", \"Trump Inauguration\", labelLoc = \"bottom\") %>%\n                dyShading(from = range(index(oilSupply))[1], to = range(index(oilSupply))[2], color = \"rgba(190,167,123,0.1)\")\n        return(supplyGraph)\n}\n\nimportsAvgGraph <- function(){\n        \n        #oilImportsAvgAvg <- read.csv('bla') #Need to store this in a datawarehouse\n        oilImportsAvg[,2] <- as.integer(oilImportsAvg[,2])\n        oilImportsAvg[,3] <- as.integer(oilImportsAvg[,3])\n        oilImportsAvg <- xts(oilImportsAvg[,-1],order.by=oilImportsAvg[,1])\n        \n        dyCrosshair <- function(dygraph, direction = c(\"both\", \"horizontal\", \"vertical\")) {\n                dyPlugin(\n                        dygraph = dygraph,\n                        name = \"Crosshair\",\n                        path = system.file(\"plugins/crosshair.js\", package = \"dygraphs\"),\n                        options = list(direction = match.arg(direction))\n                )\n        }\n        \n        importsAvgGraph <- dygraph(oilImportsAvg,group = 'oil',\n                                main = \"\", ylab = \"000's Of Barrels\") %>%\n                dySeries(\"4WkAvg_US_Net_Imports_000s\",strokeWidth = 2, label = \"4Wk Avg Net Imports\",color = \"#57B8FF\") %>%\n                dySeries(\"4WkAvg_US_Total_Imports_000s\",strokeWidth = 2, label = \"4Wk Avg Total Imports\",color = \"#FE5D26\") %>%\n                dyRangeSelector(height = 30,dateWindow = c(range(index(oilImportsAvg))[2] - 180,range(index(oilImportsAvg))[2])) %>%\n                dyAxis(\"x\",drawGrid = FALSE) %>%\n                #dyAxis(\"y2\", label = \"Crude Price\", independentTicks = FALSE) %>%\n                dyAxis(\"y\",drawGrid = FALSE,\n                       valueFormatter = 'function(d){return d.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \",\");}',\n                       axisLabelFormatter = 'function(d){return d.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \",\");}') %>%\n                dyCrosshair(direction = \"vertical\") %>%\n                dyCSS(\"css/COTC.css\") %>%\n                dyLegend(show = \"always\",width = 600) %>%\n                dyEvent(\"2016-11-10\", \"Trump Elected\", labelLoc = \"bottom\") %>%\n                dyEvent(\"2017-01-20\", \"Trump Inauguration\", labelLoc = \"bottom\") %>%\n                dyShading(from = range(index(oilImportsAvg))[1], to = range(index(oilImportsAvg))[2], color = \"rgba(190,167,123,0.1)\")\n        return(importsAvgGraph)\n}\n\n\n\n",
    "created" : 1495911616099.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "2|27|35|0|\n37|26|68|0|\n",
    "hash" : "3494983343",
    "id" : "46CE245E",
    "lastKnownWriteTime" : 1496126818,
    "last_content_update" : 1496126818907,
    "path" : "~/Desktop/AheadOfTheCurve/USCrudeGraphs.R",
    "project_path" : "USCrudeGraphs.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}